; @Introduction
; Program will load a set of numbers from <numbers.bin>
; and add up all positive numbers then store the result in R5
; @Author Yusheng Xie
; @Data 2019.4.12
;

;Regerister list
;R1 holds the iterator for loop
;R2 holds the current address of the numbers
;R3 holds the current number
;R5 holds the sum of positive numbers

0011 0001 0000 0000;        Program starts at memory location x3100

;Initialization
0101 101 101 1 00000;       R5 <- #0         clear the sum (set to 0)
0101 001 001 1 01001;       R1 <- #9         given i = 9 to count the for-loop if i >= 0
1110 010 000101111;         R2 <- x3132      store the first address of numbers.bin

;Argorithm(for-loop)
0110 011 010 000000;        R3 <- MEM[R2]    load the current number

0000 110 000000001;         if(R3 < 0) then PC goes to x3106, else continue
0001 101 101 0 00 011;      R5 <- R5 + R3    add up the positive number to the sum

0001 010 010 1 00001;       R2 <- R2 + 1     get the next address of the number
0001 001 001 1 11111;       R1 <- R1 - 1     update i for for-loop

0000 011 111111010;         if(R1 >= 0) then PC goes to x3103(the loop)

;Stop
1111 0000 00100101;         TRAP 0x25 ;halt

